{"version":3,"sources":["components/MyModal/Modal.module.css","components/UI/button/MyButton.module.css","components/UI/input/MyInput.module.css","components/UI/loader/Loader.module.css","components/UI/button/MyButton.jsx","components/postItem.jsx","components/postList.jsx","components/UI/input/MyInput.jsx","components/PostForm.jsx","components/UI/select/MySelect.jsx","components/PostFilter.jsx","components/MyModal/MyModal.jsx","hooks/usePosts.js","API/PostService.js","components/UI/loader/Loader.jsx","App.js","index.js"],"names":["module","exports","MyButton","children","props","className","classes","myBtn","PostItem","number","post","title","body","onClick","remove","PostList","posts","postListStyles","textAlign","margin","length","style","TransitionGroup","map","index","CSSTransition","timeout","classNames","id","MyInput","React","forwardRef","ref","myInput","type","PostForm","create","useState","setPost","placeholder","value","onChange","e","target","preventDefault","newPost","Date","now","MySelect","options","defaultValue","disabled","option","name","PostFilter","filter","setFilter","query","sort","MyModal","visible","setVisible","rootClasses","cl","myModal","push","active","join","myModalContent","stopPropagation","usePosts","sortedPosts","useMemo","a","b","localeCompare","useSortedPosts","toLowerCase","includes","PostService","axios","get","response","data","console","log","Loader","loader","App","setPosts","modal","setModal","isPostLoading","setIsPostLoading","sortedAndSearchedPosts","useEffect","fetchPosts","setTimeout","getAll","display","justifyContent","marginTop","p","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.5cfa4e62.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"myModal\":\"Modal_myModal__11jts\",\"myModalContent\":\"Modal_myModalContent__2aGFZ\",\"active\":\"Modal_active__3sdh1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"myBtn\":\"MyButton_myBtn__2OH6y\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"myInput\":\"MyInput_myInput__w_sWw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"Loader_loader__10MCf\",\"rotate\":\"Loader_rotate__3B37U\"};","import React from \"react\";\nimport classes from \"./MyButton.module.css\";\n\nexport const MyButton = ({ children, ...props }) => {\n  return (\n    <button {...props} className={classes.myBtn}>\n      {children}\n    </button>\n  );\n};\n","import React from \"react\";\nimport { MyButton } from \"./UI/button/MyButton\";\n\nexport const PostItem = (props) => {\n  return (\n    <div className=\"post\">\n      <div className=\"post__content\">\n        <strong>\n          {props.number + \".\"} {props.post.title}\n        </strong>\n        <div>{props.post.body}</div>\n      </div>\n      <div className=\"post__btns\">\n        <MyButton onClick={() => props.remove(props.post)}>Удалить</MyButton>\n      </div>\n    </div>\n  );\n};\n","import React from \"react\";\nimport { PostItem } from \"./postItem\";\nimport { CSSTransition, TransitionGroup } from \"react-transition-group\";\n\nexport const PostList = ({ posts, title, remove }) => {\n  const postListStyles = { textAlign: \"center\", margin: \"25px 0 0 0\" };\n  return (\n    <div>\n      {posts.length ? (\n        <h1 style={postListStyles}>{title}</h1>\n      ) : (\n        <h1 style={postListStyles}>Посты не были найдены !</h1>\n      )}\n      <TransitionGroup>\n        {posts.map((post, index) => {\n          return (\n            <CSSTransition key={post.id} timeout={500} classNames=\"post\">\n              <PostItem\n                number={index + 1}\n                post={post}\n                remove={remove}\n              />\n            </CSSTransition>\n          );\n        })}\n      </TransitionGroup>\n    </div>\n  );\n};\n","import React from \"react\";\nimport classes from \"./MyInput.module.css\";\n\nexport const MyInput = React.forwardRef(({ ...props }, ref) => {\n  return <input ref={ref} {...props} className={classes.myInput} type=\"text\" />;\n});\n","import React, { useState } from \"react\";\nimport { MyButton } from \"./UI/button/MyButton\";\nimport { MyInput } from \"./UI/input/MyInput\";\n\nexport const PostForm = ({ create }) => {\n  const [post, setPost] = useState({ title: \"\", body: \"\" });\n\n  const addNewPost = (e) => {\n    e.preventDefault();\n    const newPost = {\n      ...post,\n      id: Date.now(),\n    };\n    create(newPost);\n    setPost({ title: \"\", body: \"\" });\n  };\n\n  return (\n    <form>\n      {/* Управляемый компонент */}\n      <MyInput\n        type=\"text\"\n        placeholder=\"Название поста\"\n        value={post.title}\n        onChange={(e) => setPost({ ...post, title: e.target.value })}\n      />\n      {/* Неуправляемый/Неконтролируемый компонент если он через useRef конечно  */}\n      {/* <MyInput ref={bodyInputRef} type=\"text\" placeholder=\"Описание поста\" /> */}\n      <MyInput\n        type=\"text\"\n        placeholder=\"Описание поста\"\n        value={post.body}\n        onChange={({ target }) => {\n          return setPost({ ...post, body: target.value });\n        }}\n      />\n      <MyButton onClick={addNewPost}>Создать пост</MyButton>\n    </form>\n  );\n};\n","import React from \"react\";\n\nexport const MySelect = ({ options, defaultValue, value, onChange }) => {\n  return (\n    <select\n      value={value}\n      onChange={(e) => {\n        onChange(e);\n      }}\n    >\n      <option disabled value=\"\">\n        {defaultValue}\n      </option>\n      {options.map((option) => {\n        return (\n          <option key={option.value} value={option.value}>\n            {option.name}\n          </option>\n        );\n      })}\n    </select>\n  );\n};\n","import React from \"react\";\r\nimport { MyInput } from \"./UI/input/MyInput\";\r\nimport { MySelect } from \"./UI/select/MySelect\";\r\n\r\nexport const PostFilter = ({ filter, setFilter }) => {\r\n  return (\r\n    <div>\r\n      <MyInput\r\n        type=\"text\"\r\n        placeholder=\"Поиск\"\r\n        value={filter.query}\r\n        onChange={(e) => {\r\n          setFilter({ ...filter, query: e.target.value });\r\n        }}\r\n      />\r\n      <MySelect\r\n        value={filter.sort}\r\n        onChange={(e) => {\r\n          setFilter({ ...filter, sort: e.target.value });\r\n        }}\r\n        defaultValue=\"Сортировка\"\r\n        options={[\r\n          { value: \"title\", name: \"Сортировать по заголовку\" },\r\n          { value: \"body\", name: \"Сортировать по содержанию\" },\r\n        ]}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport cl from \"./Modal.module.css\";\r\n\r\nconst MyModal = ({ children, visible, setVisible }) => {\r\n  const rootClasses = [cl.myModal];\r\n  if (visible) {\r\n    rootClasses.push(cl.active);\r\n  }\r\n  return (\r\n    <div\r\n      className={rootClasses.join(\" \")}\r\n      onClick={(e) => {\r\n        setVisible(false);\r\n      }}\r\n    >\r\n      <div className={cl.myModalContent} onClick={(e) => e.stopPropagation()}>\r\n        {children}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MyModal;\r\n","import { useMemo } from \"react\";\r\n\r\nexport const useSortedPosts = (posts, sort) => {\r\n  const sortedPosts = useMemo(() => {\r\n    if (sort) {\r\n      return [...posts].sort((a, b) => {\r\n        return a[sort].localeCompare(b[sort]);\r\n      });\r\n    } else {\r\n      return posts;\r\n    }\r\n  }, [sort, posts]);\r\n\r\n  return sortedPosts;\r\n};\r\n\r\nexport const usePosts = (posts, sort, query) => {\r\n  const sortedPosts = useSortedPosts(posts, sort);\r\n  const sortedAndSearchedPosts = useMemo(() => {\r\n    return sortedPosts.filter((post) => {\r\n      return post.title.toLowerCase().includes(query.toLowerCase());\r\n    });\r\n  }, [query, sortedPosts]);\r\n\r\n  return sortedAndSearchedPosts;\r\n};\r\n","import axios from \"axios\";\r\n\r\nexport default class PostService {\r\n  static async getAll() {\r\n    try {\r\n      const response = await axios.get(\r\n        \"https://jsonplaceholder.typicode.com/posts\"\r\n      );\r\n      return response.data;\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport cl from \"./Loader.module.css\";\r\n\r\nconst Loader = () => {\r\n  return <div className={cl.loader}></div>;\r\n};\r\n\r\nexport default Loader;\r\n","import \"./styles/App.css\";\nimport React, { useState, useEffect } from \"react\";\nimport { PostList } from \"./components/postList\";\nimport { PostForm } from \"./components/PostForm\";\nimport { PostFilter } from \"./components/PostFilter\";\nimport MyModal from \"./components/MyModal/MyModal\";\nimport { MyButton } from \"./components/UI/button/MyButton\";\nimport { usePosts } from \"./hooks/usePosts\";\nimport PostService from \"./API/PostService\";\nimport Loader from \"./components/UI/loader/Loader\";\n\nfunction App() {\n  //TODO 1:49:25\n  const [posts, setPosts] = useState([]);\n  const [filter, setFilter] = useState({ sort: \"\", query: \"\" });\n  const [modal, setModal] = useState(false);\n  const [isPostLoading, setIsPostLoading] = useState(false);\n  const sortedAndSearchedPosts = usePosts(posts, filter.sort, filter.query);\n\n  useEffect(() => fetchPosts(), []);\n\n  const fetchPosts = async () => {\n    setIsPostLoading(true);\n    setTimeout(async () => {\n      const posts = await PostService.getAll();\n      setPosts(posts);\n      setIsPostLoading(false);\n    }, 1000);\n  };\n\n  const createPost = (newPost) => {\n    setPosts((posts) => {\n      return [...posts, newPost];\n    });\n    setModal(false);\n  };\n\n  const removePost = (post) => {\n    setPosts(\n      posts.filter((p) => {\n        return p.id !== post.id;\n      })\n    );\n  };\n\n  return (\n    <div className=\"App\">\n      <MyButton\n        children={\"Создать новой пост\"}\n        onClick={() => setModal(true)}\n      />\n      <MyModal visible={modal} setVisible={setModal}>\n        <PostForm create={createPost} />\n      </MyModal>\n      <PostFilter filter={filter} setFilter={setFilter} />\n      {isPostLoading ? (\n        <div\n          style={{ display: \"flex\", justifyContent: \"center\", marginTop: 50 }}\n        >\n          <Loader />\n        </div>\n      ) : (\n        <PostList\n          remove={removePost}\n          posts={sortedAndSearchedPosts}\n          title={\"Посты про js\"}\n        />\n      )}\n    </div>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}